// <auto-generated />
using System;
using Microsoft.EntityFrameworkCore.Migrations;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

namespace Pronto_MIA.DataAccess.Migrations
{
    public partial class Initial : Migration
    {
        protected override void Up(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.CreateTable(
                name: "DeploymentPlans",
                columns: table => new
                {
                    Id = table.Column<int>(type: "integer", nullable: false)
                        .Annotation("Npgsql:ValueGenerationStrategy", NpgsqlValueGenerationStrategy.IdentityByDefaultColumn),
                    AvailableFrom = table.Column<DateTime>(type: "timestamp without time zone", nullable: false),
                    AvailableUntil = table.Column<DateTime>(type: "timestamp without time zone", nullable: false),
                    FileUUID = table.Column<string>(type: "text", nullable: false),
                    FileExtension = table.Column<string>(type: "text", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_DeploymentPlans", x => x.Id);
                });

            migrationBuilder.CreateTable(
                name: "Users",
                columns: table => new
                {
                    Id = table.Column<int>(type: "integer", nullable: false)
                        .Annotation("Npgsql:ValueGenerationStrategy", NpgsqlValueGenerationStrategy.IdentityByDefaultColumn),
                    UserName = table.Column<string>(type: "text", nullable: false),
                    PasswordHash = table.Column<byte[]>(type: "bytea", nullable: false),
                    HashGenerator = table.Column<string>(type: "text", nullable: true),
                    HashGeneratorOptions = table.Column<string>(type: "jsonb", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_Users", x => x.Id);
                });

            migrationBuilder.CreateTable(
                name: "FcmTokens",
                columns: table => new
                {
                    Id = table.Column<string>(type: "text", nullable: false),
                    OwnerId = table.Column<int>(type: "integer", nullable: false)
                },
                constraints: table =>
                {
                    table.PrimaryKey("PK_FcmTokens", x => x.Id);
                    table.ForeignKey(
                        name: "FK_FcmTokens_Users_OwnerId",
                        column: x => x.OwnerId,
                        principalTable: "Users",
                        principalColumn: "Id",
                        onDelete: ReferentialAction.Cascade);
                });

            migrationBuilder.InsertData(
                table: "Users",
                columns: new[] { "Id", "HashGenerator", "HashGeneratorOptions", "PasswordHash", "UserName" },
                values: new object[] { -1, "Pbkdf2Generator", "{\"SaltSize\":128,\"HashIterations\":1500,\"HashSize\":512,\"Salt\":\"clwG6UEnsIisjIZLKkuNRbAcN625xRjYrm9hw5uH8IgqHDipcibNGYD4HK9lM3IlAqGZXZ9TXWN5nkkQipxZR40uDTZY+2rgDgkcHoa52QXZi21Zc2z+aCPSfZMGjcJx7DbOXnxrJxs+u0UYKWmo4iXnZM68ls8+1tYdhFNg8lM=\"}", new byte[] { 134, 88, 72, 71, 115, 209, 223, 129, 35, 4, 101, 55, 181, 78, 36, 138, 77, 244, 73, 44, 168, 110, 135, 158, 248, 30, 112, 237, 194, 13, 213, 61, 35, 27, 71, 194, 188, 238, 105, 24, 102, 78, 212, 78, 147, 220, 174, 152, 37, 247, 132, 158, 241, 213, 227, 205, 205, 12, 6, 7, 245, 199, 212, 188, 175, 101, 149, 8, 190, 133, 94, 14, 52, 26, 20, 50, 168, 114, 60, 16, 244, 127, 146, 133, 67, 36, 63, 125, 44, 131, 227, 76, 27, 124, 179, 33, 246, 123, 173, 29, 6, 165, 97, 10, 155, 59, 28, 88, 164, 236, 30, 1, 154, 129, 38, 232, 233, 220, 238, 243, 102, 144, 132, 191, 142, 217, 103, 69, 130, 56, 135, 249, 54, 250, 178, 82, 18, 134, 146, 2, 130, 230, 131, 17, 172, 112, 115, 35, 164, 155, 26, 14, 38, 12, 250, 5, 157, 74, 85, 36, 190, 85, 81, 237, 3, 149, 122, 47, 177, 3, 71, 13, 71, 237, 88, 26, 201, 226, 151, 76, 232, 148, 118, 115, 24, 63, 116, 125, 118, 255, 118, 39, 154, 56, 7, 222, 70, 86, 78, 196, 161, 111, 199, 2, 95, 170, 8, 227, 175, 62, 233, 185, 177, 223, 166, 242, 156, 179, 3, 202, 141, 151, 54, 104, 193, 68, 87, 233, 130, 12, 44, 155, 59, 31, 137, 12, 240, 175, 147, 229, 66, 128, 177, 168, 55, 244, 103, 207, 146, 254, 253, 58, 16, 203, 87, 172, 8, 46, 37, 206, 229, 196, 163, 227, 41, 227, 152, 115, 84, 77, 11, 78, 255, 54, 119, 19, 52, 84, 244, 33, 71, 87, 145, 11, 77, 76, 189, 46, 223, 143, 33, 198, 128, 111, 147, 207, 110, 50, 70, 82, 216, 255, 0, 217, 215, 57, 99, 223, 72, 144, 6, 105, 246, 199, 88, 102, 104, 99, 129, 2, 156, 247, 53, 65, 30, 184, 2, 185, 209, 88, 82, 205, 81, 84, 14, 101, 26, 147, 163, 105, 124, 98, 200, 126, 98, 187, 204, 5, 67, 40, 125, 246, 94, 253, 63, 112, 2, 227, 59, 194, 2, 164, 11, 206, 92, 67, 215, 201, 254, 210, 103, 194, 40, 195, 178, 36, 162, 97, 236, 21, 74, 204, 58, 206, 159, 158, 25, 167, 113, 240, 83, 245, 203, 12, 141, 97, 222, 66, 105, 22, 130, 56, 187, 92, 127, 41, 16, 142, 77, 114, 230, 137, 102, 9, 59, 22, 225, 179, 187, 235, 211, 197, 120, 0, 69, 9, 165, 180, 251, 216, 180, 110, 49, 234, 168, 165, 195, 207, 82, 23, 143, 52, 238, 5, 126, 237, 142, 134, 58, 209, 214, 94, 101, 116, 233, 117, 228, 126, 228, 244, 75, 223, 31, 194, 70, 245, 100, 32, 39, 169, 122, 209, 121, 199, 85, 255, 164, 248, 76, 26, 66, 108, 9, 163, 187, 58, 128, 211, 42, 33, 20, 251, 112, 165, 134, 131, 109, 28, 164, 133, 134, 178, 208, 89, 105, 87, 244, 50, 198, 147, 126, 59 }, "Franz" });

            migrationBuilder.CreateIndex(
                name: "IX_DeploymentPlans_FileUUID",
                table: "DeploymentPlans",
                column: "FileUUID",
                unique: true);

            migrationBuilder.CreateIndex(
                name: "IX_FcmTokens_OwnerId",
                table: "FcmTokens",
                column: "OwnerId");

            migrationBuilder.CreateIndex(
                name: "IX_Users_UserName",
                table: "Users",
                column: "UserName",
                unique: true);
        }

        protected override void Down(MigrationBuilder migrationBuilder)
        {
            migrationBuilder.DropTable(
                name: "DeploymentPlans");

            migrationBuilder.DropTable(
                name: "FcmTokens");

            migrationBuilder.DropTable(
                name: "Users");
        }
    }
}
